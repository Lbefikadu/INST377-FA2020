<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset="utf-8">
        <title class = 'tab-title'>Lealena Befikadu's Lab 4</title>
        <link rel="stylesheet" type="text/css" href="styles.css"/>
    </head>
        <body>
            <div id="wrapper">
            <h1 class = "lab-name">Lealena Befikadu's Lab 4</h1>
            </div>
            <br>
            <div class="container"> <!--https://webdesign.tutsplus.com/tutorials/building-responsive-forms-with-flexbox--cms-26767-->
            <form action="/api" method="post">
                <ul class="flex-outer">
                    <li>
                        <label for="fname">First Name</label>
                        <input type="text" maxlength="140" name="fname"  id="fname">
                    </li>
                    <li>
                        <label for="lname">Last Name</label>
                        <input type="text" maxlength="140" name="lname" id="lname">
                    </li>
                    <li>
                        <label for="email">Email</label>
                        <input type="email" name="email" id="email">
                    </li>
                    <li>
                        <label for="phone">Phone</label>
                        <input type="tel" name="phone" id="phone">
                    </li>
                    <li>
                        <label for="messages">Text field</label>
                        <textarea rows="5" cols="33" name="message" id="messages"></textarea>
                    </li>
                    <li>
                        <p class="checkbox-list-label">Age</p>
                        <ul class="flex-inner">
                            <li><input type="checkbox" name="18-35" id="18-35">
                                <label for="18-35">18-35</label>
                            </li>
                            <li>
                                <input type="checkbox" name="35-50" id="35-50">
                                <label for="35-50">35-50</label>
                            </li>
                            <li>
                                <input type="checkbox" name="50-65" id="50-65">
                                <label for="50-65">50-65</label>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <button type="submit" name="submit" id="submit">Submit</button>
                    </li>
                    <li>
                        <button type="button" onclick="testFunction()">Activate</button>
                    </li>
                </ul>
            </form> 
            </div>
            <script>
            function testFunction() {
                fetch('/api')
                .then((response) => response.text())
                .then((response) => {
                    console.log(response)
                        const e = document.querySelector('.lab-name');
                        e.innerHTML = "Lab 5 for Lealena Befikadu";  
                
                        const h = document.querySelector('.tab-title');
                        h.innerHTML = "Lab 5 for Lealena Befikadu"; 

                        const a = document.querySelector('.checkbox-list-label');
                        a.innerHTML = "Fruits"; 

                        const alllabels = document.querySelectorAll('.flex-inner label');
                        const fruits = ['mango', 'apple', 'grape'];

                        alllabels.forEach((el, i) => {
                            el.innerHTML = fruits[i]
                        }); 

                        const bg = document.querySelector('body');
                        bg.style.background = 'black';

                        const f = document.querySelector('.flex-outer');
                        f.style.margin = '0 auto';
                        
                })
          

           }
        </script> 
        </body>
</html>